<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receiver - Lemur Tradução</title>
    <style>
        /* SEUS ESTILOS ATUAIS DO RECEIVER AQUI */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        #myId {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin: 20px 0;
        }
        
        video {
            width: 100%;
            max-width: 400px;
            border-radius: 10px;
            background: #000;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Receiver - Aguardando Chamada</h1>
        
        <!-- AQUI VAI MOSTRAR OS 8 DÍGITOS DO TOKEN -->
        <div id="myId">ID: Carregando...</div>
        
        <div class="video-container">
            <video id="localVideo" autoplay muted></video>
            <video id="remoteVideo" autoplay></video>
        </div>
        
        <div class="controls">
            <button id="cameraBtn">Ligar Câmera</button>
            <button id="micBtn">Ligar Microfone</button>
        </div>
    </div>

    <script>
        // PEGA OS 8 DÍGITOS ENVIADOS PELA TELA ANTERIOR
        const urlParams = new URLSearchParams(window.location.search);
        const token = urlParams.get('token');
        const idReceiver = urlParams.get('id'); // ← ESTE É O ID DE 8 DÍGITOS
        
        // MOSTRA O ID NA TELA
        document.getElementById('myId').textContent = `ID: ${idReceiver}`;
        
        // AGORA USE ESTE idReceiver NO SEU CÓDIGO WebRTC
        // (substitui onde você gerava o ID aleatório)
        
        console.log('Token completo:', token);
        console.log('ID Receiver (8 dígitos):', idReceiver);
        
        // AQUI CONTINUA SEU CÓDIGO WebRTC NORMAL
        // Mas usando idReceiver em vez de gerar um ID aleatório
        
        // Exemplo:
        // const peer = new Peer(idReceiver, { ... });
        // ou
        // const myId = idReceiver;
        
    </script>
    
    <!-- SEUS OUTROS SCRIPTS WebRTC AQUI -->
</body>
</html>
